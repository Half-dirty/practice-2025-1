# Resume Creator – Описание архитектуры проекта

## Введение

**Resume Creator** – это веб-приложение, разработанное одним участником, предназначенное для создания резюме в формате PDF на основе данных, введённых пользователем. Проект основан на материале статьи *“Building a basic HTTP Server from scratch in Python”* (João Ventura, 2017), где описана реализация простого HTTP-сервера на Python. В рамках разработки данный базовый пример был существенно расширен: добавлен веб-интерфейс с HTML-формой, генерация PDF-файлов резюме, использование фреймворка Flask, шаблонов HTML, JavaScript и CSS – все эти возможности выходят за рамки исходной статьи и были реализованы в качестве модификаций.

Мои полный код по этому проекту можно посмотреть в папке **[/src](https://github.com/Half-dirty/practice-2025-1/blob/master/src/)**  

## Архитектура и компоненты

Проект построен по классической схеме **клиент–сервер**. Клиентская часть – это веб-интерфейс (HTML-страницы, CSS-стили и JavaScript-скрипты), с помощью которого пользователь вводит информацию для своего резюме. Серверная часть – приложение на Python (используется микрофреймворк **Flask**), которое обрабатывает запросы от клиента, генерирует PDF-документ резюме и возвращает его пользователю.

Основные компоненты системы:

- **Веб-сервер (Back-end)** – отвечает за приём и обработку HTTP-запросов. Первоначально был реализован простой HTTP-сервер на сокетах по примеру из статьи (обрабатывающий базовые GET-запросы и отдающий статические страницы). Однако для поддержки расширенной функциональности (формы, шаблоны, PDF) серверная часть была перенесена на Flask. Flask обеспечивает маршрутизацию URL (например, главная страница, страница с советами по карьере, генерация резюме), обработку методов GET/POST, работу с шаблонами и статическими файлами. Сервер содержит основные маршруты: главная страница “/”, страница “/career” (советы по карьере), POST-метод “/generate” для генерации резюме, страницу “/success” для отображения ссылки на готовое резюме, и маршрут выдачи файлов “/resume/<имя файла>” для скачивания PDF.
- **Клиентский интерфейс (Front-end)** – набор веб-страниц, с которыми взаимодействует пользователь через браузер. Главная страница содержит HTML-**форму** для ввода персональных данных (ФИО, должность, опыт, навыки, образование, контактный email). Дополнительно реализована страница “Карьерный старт” с полезной информацией и советами для молодых специалистов. Взаимодействие пользователя с приложением происходит динамично: форма отправляется без перезагрузки страницы благодаря AJAX (Fetch API в JavaScript), присутствуют визуальные эффекты и анимации (например, плавное появление элементов страницы, подсветка активного пункта меню, небольшая **мини-игра** на странице советов). Всё это реализовано средствами HTML5/CSS3 и JavaScript на стороне клиента.
- **Шаблоны и статические файлы** – проект использует шаблоны HTML (движок **Jinja2**, встроенный во Flask) для генерации страниц. Например, `index.html` – шаблон главной страницы с формой, `career.html` – страница с советами, `success.html` – страница успешного создания резюме. Особый шаблон `resume_template.html` описывает структуру PDF-резюме: в нём с помощью плейсхолдеров (`{{ }}`) вставляются данные пользователя (имя, email, навыки и др.) для формирования содержания резюме. Статические ресурсы – CSS и JS файлы – расположены в папке `static`. CSS (`style.css`) определяет оформление интерфейса (фон, цвета, шрифты, расположение блоков), а JavaScript (`script.js`) содержит код обработки событий на стороне клиента.
- **Модуль генерации PDF** – отвечает за создание PDF-документа резюме на сервере. Вместо ручной генерации PDF “с нуля” проект использует подход “HTML-шаблон + конвертация в PDF”. Данные из формы вставляются в HTML-шаблон резюме, а затем библиотека **pdfkit** (обёртка над утилитой wkhtmltopdf) преобразует получившийся HTML в PDF-файл. Это позволяет описывать форматирование резюме с помощью привычных средств (HTML-разметка и CSS-стили) и получать хорошо оформленный PDF-документ. Генерируемые PDF-файлы сохраняются на сервере в директории `static/resumes` и выдаются клиенту по запросу.

## Логика работы приложения

1. **Отображение формы.** Пользователь открывает главную страницу приложения в браузере (например, `http://localhost:5000/`). Сервер отправляет HTML-страницу (`index.html`), которая загружается вместе с CSS-стилями и JS-скриптом. Пользователь видит приветственный экран и форму резюме с несколькими полями ввода.
2. **Ввод данных.** Пользователь заполняет поля формы: ФИО, желаемая должность, опыт работы, навыки, образование, контактный email. Все поля помечены как обязательные для заполнения (атрибут `required` в HTML и дополнительная проверка в JS).
3. **Отправка формы (AJAX).** При нажатии кнопки “Сгенерировать резюме” происходит отправка данных на сервер. Используется AJAX-запрос: скрипт `script.js` перехватывает событие отправки формы, собирает введённые данные и выполняет запрос `POST /generate` в фоновом режиме (через `fetch`). Благодаря этому страница не перезагружается, и можно реализовать плавную обработку ответа.
4. **Обработка данных на сервере.** Flask-приложение получает POST-запрос на маршруте `/generate`. Происходит проверка данных: сервер убеждается, что все обязательные поля присутствуют (если нет – возвращается ошибка 400 с сообщением о незаполненном поле). Затем формируется словарь с данными пользователя и генерируется имя выходного файла (например, `resume_20250521_101112.pdf` на основе текущей даты/времени).
5. **Генерация HTML-резюме.** Сервер использует шаблон `resume_template.html`, чтобы сформировать HTML-страницу резюме. С помощью функции Flask `render_template` в шаблон подставляются реальные значения (ФИО, навыки и т.д. вместо плейсхолдеров). Получается полноценная HTML-страница резюме, сверстанная в простом стиле (заголовок – имя, далее список полей с значениями).
6. **Конвертация в PDF.** Полученный HTML передаётся в pdfkit (который под капотом вызывает **wkhtmltopdf**). Инструмент рендерит HTML в PDF-документ согласно указанным в шаблоне стилям. В результате на сервере формируется PDF-файл резюме, сохранённый в папке `static/resumes`. Этот файл содержит все введённые пользователем данные в удобном формате для скачивания.
7. **Ответ сервера (JSON).** По завершении генерации сервер не возвращает сразу PDF-файл, а отвечает JSON-данными: `{"success": true, "fileUrl": "<ссылка>"}`. Ссылка (`fileUrl`) указывает путь, по которому можно скачать созданный PDF (маршрут `/resume/имя_файла`). Такой подход облегчает обработку на фронтенде: можно гибко отреагировать на успех или ошибку генерации.
8. **Перенаправление на страницу успеха.** JavaScript получает ответ JSON. Если `"success": true`, скрипт перенаправляет браузер на страницу `/success?file=<ссылка>`. Параметр `file` в URL содержит URL для скачивания PDF. Если же пришёл ответ об ошибке, на клиенте можно показать уведомление (в реализации используется `alert` с текстом ошибки).
9. **Страница успешного создания.** Маршрут `/success` отображает пользователю страницу `success.html`. Этот шаблон считывает параметр из URL (`file`) и динамически вставляет его в кнопку-ссылку “📄 Скачать резюме”. Пользователю показывается сообщение “Резюме успешно создано!” и предлагается скачать PDF. С помощью атрибута `download` ссылка помечена как загрузка файла.
10. **Скачивание PDF.** При нажатии на кнопку “Скачать резюме” происходит запрос по ранее сформированной ссылке (`/resume/резюме_xxx.pdf`), который обслуживается Flask-маршрутом `download_resume`. Сервер отдает файл с заголовками, указывающими на скачивание вложения. Браузер пользователя запрашивает файл и сохраняет его (либо открывает просмотр PDF – в зависимости от настроек). На этом цикл завершается: пользователь получает готовое резюме в PDF-формате, сформированное полностью автоматически.

## Назначение основных модулей

- **Flask-сервер (main.py):** инициализирует приложение Flask, настраивает директории (например, создание папки `static/resumes` для PDF), определяет маршруты приложения. Каждый маршрут связан с функцией-обработчиком:
  - `@app.route('/')` -> функция `home()` возвращает шаблон главной страницы.
  - `@app.route('/career')` -> функция `career()` возвращает страницу советов.
  - `@app.route('/generate', methods=['POST'])` -> функция `generate()` обрабатывает данные формы, генерирует PDF и возвращает результат (JSON).
  - `@app.route('/success')` -> функция `success()` отображает страницу успешного создания резюме с ссылкой на файл.
  - `@app.route('/resume/<filename>')` -> функция `download_resume(filename)` отправляет запрошенный PDF-файл из директории на скачивание.
  Таким образом, серверная часть реализует всю логику переходов и действий, выступая «мозгом» приложения.
- **HTML-шаблоны (папка templates):** содержат разметку страниц. Шаблон **`index.html`** – главная страница с формой; **`career.html`** – страница “Карьерный старт” с контентом (список сайтов для поиска работы, советы по составлению резюме, мини-игра в виде загадки и пр.); **`resume_template.html`** – HTML-шаблон структуры резюме для последующей конвертации в PDF; **`success.html`** – страница с предложением скачать готовое резюме. Шаблоны используют конструкцию Jinja2 для вставки переменных. Например, в `resume_template.html` есть выражения `{{ name }}`, `{{ email }}` и т.д., которые при вызове `render_template` заменяются на фактические данные, полученные из формы.
- **CSS-стили (static/style.css):** определяют внешний вид веб-страниц. Для проекта выбрана современная тёмная тема: фоновый градиент с оттенками чёрного и пурпурного, полупрозрачные тёмные карточки для контента. В стилях описано расположение элементов формы с помощью CSS Grid (например, поля расположены в две колонки, кнопка отправки центрирована), оформление кнопок (ярко-розовая подсветка при наведении), адаптивность под мобильные экраны (переключение в одноколоночный режим на узких экранах). Также добавлены мелкие декоративные эффекты: цветной градиент для заголовков, тени, плавные переходы цвета. Это улучшает восприятие и делает приложение привлекательнее визуально.
- **JavaScript-скрипт (static/script.js):** реализует динамику на стороне клиента. Основная функция – перехват отправки формы резюме (`document.getElementById("resumeForm").addEventListener("submit", ... )`) и выполнение AJAX-запроса `fetch()` на `/generate`. После получения ответа скрипт перенаправляет пользователя на страницу успеха или показывает сообщение об ошибке. Помимо этого, `script.js` содержит код для UX-улучшений: подсветка текущего пункта меню навигации (добавление класса `.active` для ссылки), плавное появление блоков при прокрутке (IntersectionObserver для анимации карточек), визуальный эффект при наведении на интерактивные элементы (масштабирование карточек команды), а также мини-игра “угадай термин” на странице карьеры (пользователь вводит ответ, скрипт проверяет, сравнивая со словом "git"). Эти функции не обязательны для работы резюме, но демонстрируют владение JavaScript и делают взаимодействие с сайтом более живым.
- **PDF-шаблон и генерация (resume_template.html + pdfkit):** шаблон резюме определяет структуру итогового PDF. Он содержит базовое форматирование (например, тег `<h1>` для имени, абзацы `<p>` для каждого поля, выделенные жирным названия полей). CSS внутри шаблона минимален (например, задание шрифта Arial и отступов), более сложное оформление можно было бы расширить при необходимости. Библиотека **pdfkit** берёт этот отрендеренный HTML и через движок wkhtmltopdf создает PDF-документ. Данный подход с HTML-шаблоном удобен тем, что позволяет быстро изменить формат резюме: достаточно подправить HTML/CSS шаблона, не затрагивая Python-код. В проекте pdfkit вызывается в функции `generate()`; путь к утилите wkhtmltopdf указывается в конфигурации. Сгенерированный PDF сохраняется на сервере и затем отдаётся пользователю. Формирование PDF – ключевая часть функциональности Resume Creator, превращающая введённые пользователем данные в готовый документ, пригодный для отправки работодателю.

## Модификации относительно базового примера

В ходе работы над проектом были внедрены следующие улучшения и новые возможности (по сравнению с базовым HTTP-сервером из исходной статьи):

- **Веб-интерфейс с HTML-формой:** Вместо вывода фиксированной страницы “Hello, World” реализована интерактивная форма для ввода данных. Это превратило учебный пример в прикладной сервис, которым можно реально пользоваться для составления резюме.
- **Обработка POST-запросов и данных формы:** Базовый сервер умел обрабатывать только простые GET-запросы статических файлов. В проекте добавлена полноценная обработка POST: сервер принимает данные, переданные через форму, разбирает их (как строку `application/x-www-form-urlencoded`) и использует в дальнейших вычислениях. Реализована проверка заполнения полей и формирование ответа в формате JSON.
- **Генерация PDF-документа:** Добавлена совершенно новая функциональность – создание PDF-файла. Для этого интегрирована сторонняя библиотека **pdfkit** и инструмент **wkhtmltopdf**, чего не было в примере из статьи. Это позволило автоматизировать выпуск резюме в востребованном формате. Логика генерации PDF и выдачи файла стала неотъемлемой частью серверной компоненты.
- **Переход на Flask и шаблонизацию:** Для удобства разработки и расширения функций используется Flask. Вместо ручной обработки HTTP-протокола и сырых сокетов, Flask взял на себя маршрутизацию, разбор запросов, формирование ответов. Использование Flask значительно ускорило внедрение новых возможностей (форм, шаблонов, статики), позволило организовать код более структурированно. Шаблоны Jinja2 облегчили поддержку HTML-страниц и повторно используемых компонентов.
- **Дополнительные страницы и контент:** В приложение добавлена страница “Карьерный старт” (`/career`), содержащая рекомендации для выпускников (где искать работу, как написать резюме, ссылки на ресурсы) и интерактивный элемент (мини-игра загадка). Это демонстрирует способность сервера обслуживать не одну, а несколько страниц, и обогащает проект с точки зрения содержательной ценности.
- **Расширения на стороне клиента (UX):** Внедрены современные практики веб-разработки: асинхронная отправка формы без перезагрузки (AJAX), улучшенная валидиация (проверка заполнения полей на фронтенде), визуальные эффекты (плавные появления, hover-эффекты), адаптивный дизайн для мобильных устройств. Эти модификации выходят за рамки примера в статье, превращая демо-сервер в полноценное пользовательское веб-приложение.

Проект **Resume Creator** явился итогом поэтапного развития: от простейшего HTTP-сервера к многокомпонентному веб-приложению.
